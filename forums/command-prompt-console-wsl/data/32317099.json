{"id":"32317099","link":"https://wpdev.uservoice.com/forums/266908-command-prompt-console-windows-subsystem-for-l/suggestions/32317099-i-installed-smlnj-with-apt-get-and-the-executable","title":"I installed smlnj with apt-get and the executable sml is crashing: # sml /usr/lib/smlnj/bin/.run/run.x86-linux: 1: /usr/lib/smlnj/bin/.run/r","body":"I installed smlnj with apt-get and the executable sml is crashing:\n<br># sml\n<br>/usr/lib/smlnj/bin/.run/run.x86-linux: 1: /usr/lib/smlnj/bin/.run/run.x86-linux: Syntax error: word unexpected (expecting \")\")\n<br>I collected a strace:\n<br># strace sml strace: Test for PTRACE_O_TRACESYSGOOD failed, giving up using this feature. execve(\"/usr/bin/sml\", [\"sml\"], [/* 12 vars */]) = 0 brk(0) = 0x8220000 access(\"/etc/ld.so.nohwcap\", F_OK) = -1 ENOENT (No such file or directory) mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffee0000 access(\"/etc/ld.so.preload\", R_OK) = -1 ENOENT (No such file or directory) open(\"/etc/ld.so.cache\", O_RDONLY|O_CLOEXEC) = 3 fstat(3, {st_mode=S_IFREG|0644, st_size=37590, ...}) = 0 mmap(NULL, 37590, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7ff5ffff5000 close(3) = 0 access(\"/etc/ld.so.nohwcap\", F_OK) = -1 ENOENT (No such file or directory) open(\"/lib/x86_64-linux-gnu/libc.so.6\", O_RDONLY|O_CLOEXEC) = 3 read(3, \"\\177ELF\\2\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0&gt;\\0\\1\\0\\0\\0\\320\\37\\2\\0\\0\\0\\0\\0\"..., 832) = 832 fstat(3, {st_mode=S_IFREG|0755, st_size=1840928, ...}) = 0 mmap(NULL, 3949248, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7ff5ff830000 mprotect(0x7ff5ff9eb000, 2093056, PROT_NONE) = 0 mmap(0x7ff5ffbea000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1ba000) = 0x7ff5ffbea000 mmap(0x7ff5ffbf0000, 17088, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffbf0000 close(3) = 0 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffed0000 mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffec0000 arch_prctl(ARCH_SET_FS, 0x7ff5ffec0740) = 0 mprotect(0x7ff5ffbea000, 16384, PROT_READ) = 0 mprotect(0x821b000, 8192, PROT_READ) = 0 mprotect(0x7ff5ffe22000, 4096, PROT_READ) = 0 munmap(0x7ff5ffff5000, 37590) = 0 getpid() = 6697 rt_sigaction(SIGCHLD, {0x8012460, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 geteuid() = 0 brk(0) = 0x8220000 brk(0x8241000) = 0x8241000 getppid() = 6694 stat(\"/mnt/c/Users/Ray\", {st_mode=S_IFDIR|0777, st_size=0, ...}) = 0 stat(\".\", {st_mode=S_IFDIR|0777, st_size=0, ...}) = 0 open(\"/usr/bin/sml\", O_RDONLY) = 3 fcntl(3, F_DUPFD, 10) = 10 close(3) = 0 fcntl(10, F_SETFD, FD_CLOEXEC) = 0 rt_sigaction(SIGINT, NULL, {SIG_DFL, [], SA_RESTORER, 0x7ff5ff426d40}, 8) = 0 rt_sigaction(SIGINT, {0x8012460, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 rt_sigaction(SIGQUIT, NULL, {SIG_DFL, [], SA_RESTORER, 0x7ff5ff426d40}, 8) = 0 rt_sigaction(SIGQUIT, {SIG_DFL, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 rt_sigaction(SIGTERM, NULL, {SIG_DFL, [], SA_RESTORER, 0x7ff5ff426d40}, 8) = 0 rt_sigaction(SIGTERM, {SIG_DFL, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 read(10, \"#!/bin/sh\\n\\nexport SMLNJ_HOME=${S\"..., 8192) = 88 execve(\"/usr/lib/smlnj/bin/sml\", [\"/usr/lib/smlnj/bin/sml\"], [/* 13 vars */]) = 0 brk(0) = 0x8220000 access(\"/etc/ld.so.nohwcap\", F_OK) = -1 ENOENT (No such file or directory) mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffee0000 access(\"/etc/ld.so.preload\", R_OK) = -1 ENOENT (No such file or directory) open(\"/etc/ld.so.cache\", O_RDONLY|O_CLOEXEC) = 3 fstat(3, {st_mode=S_IFREG|0644, st_size=37590, ...}) = 0 mmap(NULL, 37590, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7ff5ffff5000 close(3) = 0 access(\"/etc/ld.so.nohwcap\", F_OK) = -1 ENOENT (No such file or directory) open(\"/lib/x86_64-linux-gnu/libc.so.6\", O_RDONLY|O_CLOEXEC) = 3 read(3, \"\\177ELF\\2\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0&gt;\\0\\1\\0\\0\\0\\320\\37\\2\\0\\0\\0\\0\\0\"..., 832) = 832 fstat(3, {st_mode=S_IFREG|0755, st_size=1840928, ...}) = 0 mmap(NULL, 3949248, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7ff5ff830000 mprotect(0x7ff5ff9eb000, 2093056, PROT_NONE) = 0 mmap(0x7ff5ffbea000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1ba000) = 0x7ff5ffbea000 mmap(0x7ff5ffbf0000, 17088, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffbf0000 close(3) = 0 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffed0000 mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7ff5ffec0000 arch_prctl(ARCH_SET_FS, 0x7ff5ffec0740) = 0 mprotect(0x7ff5ffbea000, 16384, PROT_READ) = 0 mprotect(0x821b000, 8192, PROT_READ) = 0 mprotect(0x7ff5ffe22000, 4096, PROT_READ) = 0 munmap(0x7ff5ffff5000, 37590) = 0 getpid() = 6697 rt_sigaction(SIGCHLD, {0x8012460, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 geteuid() = 0 brk(0) = 0x8220000 brk(0x8241000) = 0x8241000 getppid() = 6694 stat(\"/mnt/c/Users/Ray\", {st_mode=S_IFDIR|0777, st_size=0, ...}) = 0 stat(\".\", {st_mode=S_IFDIR|0777, st_size=0, ...}) = 0 open(\"/usr/lib/smlnj/bin/sml\", O_RDONLY) = 3 fcntl(3, F_DUPFD, 10) = 10 close(3) = 0 fcntl(10, F_SETFD, FD_CLOEXEC) = 0 rt_sigaction(SIGINT, NULL, {SIG_DFL, ~[RTMIN], SA_RESTORER, 0x7ff5ff866d40}, 8) = 0 rt_sigaction(SIGINT, {0x8012460, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 rt_sigaction(SIGQUIT, NULL, {SIG_DFL, ~[RTMIN], SA_RESTORER, 0x7ff5ff866d40}, 8) = 0 rt_sigaction(SIGQUIT, {SIG_DFL, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 rt_sigaction(SIGTERM, NULL, {SIG_DFL, ~[RTMIN], SA_RESTORER, 0x7ff5ff866d40}, 8) = 0 rt_sigaction(SIGTERM, {SIG_DFL, ~[RTMIN RT_1], SA_RESTORER, 0x7ff5ff866d40}, NULL, 8) = 0 read(10, \"#!/bin/sh\\n#\\n# The standard drive\"..., 8192) = 5369 pipe([3, 4]) = 0 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7ff5ffec0a10) = 6698 close(4) = 0 read(3, \"sml\\n\", 128) = 4 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=6698, si_status=0, si_utime=0, si_stime=0} --- strace: ptrace(PTRACE_SYSCALL,pid:6697,sig:17): Invalid argument Process 6697 detached","votes":"1","user":"https://wpdev.uservoice.com/users/712511563-nilesh-chakraborty-nayan","datetime":"2017-11-19","comments":[]}