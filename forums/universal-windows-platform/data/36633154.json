{"id":"36633154","link":"https://wpdev.uservoice.com/forums/110705-universal-windows-platform/suggestions/36633154-direct2d-color-mamagement-effect-with-any-renderin","title":"Direct2D color mamagement effect with any rendering intent other than perceptual uses a lot of memory at small scales","body":"I'm trying to develop a high quality image processing pipeline (for both image display and image conversion) using Direct2D (actually a combination of Win2D, Win2D/Direct2D interop and WIC). This is quite powerful by using effects and CreateImageSourceFromWic which can then handle arbitrary image sizes. However, there are a number of issues. One is that creating a color management effect with any rendering intent other than perceptual and rendering at a scale of about 0.07 or less starts to produce large spikes in memory usage (at least for large images e.g. 5.5k*3.5k). It is especially bad when using HighQualityCubic interpolation, and in fact even without a color management effect, HighQualityCubic interpolation will start to cause memory spikes at scales of about 1/35 with images of the above size. It would be nice if the D2D team could look at optimising the performance in these cases, because it's so close to being a really powerful image processing pipeline but is kind of let down by these issues.","votes":"1","user":"https://wpdev.uservoice.com/users/251695348-ben-stevens","datetime":"2019-01-25","comments":[]}