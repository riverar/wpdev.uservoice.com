{"id":"37478506","link":"https://wpdev.uservoice.com/forums/110705-universal-windows-platform/suggestions/37478506-very-poor-performance-of-istoragequeryresultbase-c","title":"Very poor performance of IStorageQueryResultBase.ContentsChanged","body":"I am trying to watch a large number of folders for changes using IStorageQueryResultBase.ContentsChanged. However, this is basically impossible due to performance issues. First of all, there is no option to make this fire only on 'rename' events (file creation, deletion or renaming), which is what I want, and it seems to fire multiple times even when there are no changes - for example opening a file open dialog from my app can cause it to fire. Also, it seems to watch for deep changes even though my query is shallow.","votes":"7","user":"https://wpdev.uservoice.com/users/251695348-ben-stevens","datetime":"2019-04-26","comments":[{"user":"https://wpdev.uservoice.com/users/251695348-ben-stevens","datetime":"2019-04-26","body":"In addition, if I try to call GetItemsAsync on a query which doesn't have a ContentsChanged handler attached, then it doesn't pick up and changes since the query was first run. As a workaround, I have to do SetQueryOptions(query.GetQueryOptions) then call GetItemsAsync."}]}